<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
int[0,1] no_work,vampire,family_business;
int[1,3] turn;

int crit_count;

chan get_token,put_token;

</declaration><template><name x="5" y="5">Dawoud</name><declaration>// Place local declarations here.

</declaration><location id="id0" x="-88" y="72"><name x="-128" y="72">CS</name></location><location id="id1" x="72" y="72"><name x="88" y="64">something</name></location><location id="id2" x="72" y="-96"><name x="62" y="-126">chill</name></location><location id="id3" x="-88" y="-96"><name x="-98" y="-126">idle</name><label kind="comments">Starting location for the protocol</label></location><init ref="id3"/><transition><source ref="id1"/><target ref="id0"/><label kind="guard" x="-24" y="104">vampire==0 and family_business==0</label><nail x="-8" y="104"/></transition><transition><source ref="id1"/><target ref="id0"/><label kind="guard" x="-24" y="48">turn==1</label><nail x="-8" y="40"/><nail x="-8" y="40"/></transition><transition><source ref="id0"/><target ref="id3"/><label kind="synchronisation" x="-148" y="-27">put_token!</label><label kind="assignment" x="-160" y="0">no_work:=0,
crit_count:=crit_count-1</label></transition><transition><source ref="id2"/><target ref="id1"/><label kind="assignment" x="12" y="-12">turn:=2,
crit_count:=crit_count + 1</label></transition><transition><source ref="id3"/><target ref="id2"/><label kind="synchronisation" x="-68" y="-111">get_token!</label><label kind="assignment" x="-40" y="-120">no_work:=1</label></transition></template><template><name>Ali</name><location id="id4" x="-280" y="80"><name x="-344" y="96">CS</name></location><location id="id5" x="-96" y="80"><name x="-80" y="72">relax</name></location><location id="id6" x="-96" y="-88"><name x="-106" y="-118">slay</name></location><location id="id7" x="-280" y="-88"><name x="-290" y="-118">idle</name></location><init ref="id7"/><transition><source ref="id5"/><target ref="id4"/><label kind="guard" x="-264" y="112">no_work==0 and family_business==0</label><nail x="-192" y="128"/></transition><transition><source ref="id5"/><target ref="id4"/><label kind="guard" x="-248" y="50">turn==2</label><nail x="-192" y="40"/></transition><transition><source ref="id4"/><target ref="id7"/><label kind="synchronisation" x="-312" y="-16">put_token!</label><label kind="assignment" x="-340" y="-4">vampire:=0,
crit_count:=crit_count - 1</label></transition><transition><source ref="id6"/><target ref="id5"/><label kind="assignment" x="-156" y="-4">turn:=3,
crit_count:=crit_count + 1</label></transition><transition><source ref="id7"/><target ref="id6"/><label kind="synchronisation" x="-248" y="-103">get_token!</label><label kind="assignment" x="-224" y="-88">vampire:=1</label></transition></template><template><name>Usman</name><location id="id8" x="-320" y="72"><name x="-330" y="42">CS</name></location><location id="id9" x="-128" y="72"><name x="-112" y="64">little_relax</name></location><location id="id10" x="-128" y="-80"><name x="-112" y="-88">khan_is_busy</name></location><location id="id11" x="-320" y="-80"><name x="-330" y="-110">idle</name></location><init ref="id11"/><transition><source ref="id9"/><target ref="id8"/><label kind="guard" x="-240" y="32">turn==3</label><nail x="-224" y="16"/><nail x="-304" y="72"/><nail x="-304" y="72"/></transition><transition><source ref="id9"/><target ref="id8"/><label kind="guard" x="-280" y="96">no_work==0 and vampire==0</label><nail x="-224" y="128"/></transition><transition><source ref="id8"/><target ref="id11"/><label kind="synchronisation" x="-380" y="-19">put_token!</label><label kind="assignment" x="-380" y="-4">family_business:=0,
crit_count:=crit_count - 1</label></transition><transition><source ref="id10"/><target ref="id9"/><label kind="assignment" x="-152" y="-16">turn:=1,
crit_count:=crit_count + 1</label></transition><transition><source ref="id11"/><target ref="id10"/><label kind="synchronisation" x="-284" y="-95">get_token!</label><label kind="assignment" x="-284" y="-80">family_business:=1</label></transition></template><template><name>Token</name><location id="id12" x="-128" y="-16"><name x="-138" y="-46">hold</name></location><location id="id13" x="-320" y="-16"><name x="-330" y="-46">free</name></location><init ref="id13"/><transition><source ref="id12"/><target ref="id13"/><label kind="synchronisation" x="-248" y="48">put_token?</label><nail x="-200" y="56"/><nail x="-248" y="56"/></transition><transition><source ref="id13"/><target ref="id12"/><label kind="synchronisation" x="-264" y="-80">get_token?</label><nail x="-256" y="-72"/><nail x="-224" y="-72"/></transition></template><system>

// List one or more processes to be composed into a system.

system Dawoud,Ali,Usman,Token;</system></nta>